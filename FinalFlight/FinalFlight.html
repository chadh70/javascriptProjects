<html>

    <style>
        .seatImg {padding:10px;}
        
        body {padding:10px;}
    
        .selectedTicket{border-color:black; border-style: solid; background-color:azure; margin:15px;}
        
        #orderInfo{float:right;}
        
        #seatSelection{float:left;}
        
        p{padding:5px}
        
        h3{padding:5px}
        
        #continueButton{background-color:azure;
                        font-size: 25px;
                        display: inline;
                        margin:50px;
                        padding:10px;}
        
        #orderButton{background-color:bisque;
                        font-size: 25px;
                        display: inline;
                        } 
        
        .flights{border-color:black;border-style: solid; text-align:center; width:150px; display:inline-block; margin:15px; background-color:azure;}
        
        #orderTotal{display:inline-block;}
        
       

        
    </style>
    
<body onLoad="startPage()">


<div id="display">
    
    
    </div>


<script>

    var content;//this is used to display content by innerHTML
    
    var flight="No flight selected.";//this is to assign an inital value for arrays
    
    var planeArray = new Array();  //this is to establish an 2D array that stores information for each seat on a plane
    
    var price = 65;//this is an intial base price per value for ticket; mainly just used to create array without null vale
    
    var departure = "December 15th 7:00pm";//inital departure time
    
    var returnTime = "December 17th 10:30am";//inital return time
    
    var orderTotal = 0;
    
    
    function buildPlane()
    {
        
        for(i=0; i<15; i++)
            {
                planeArray[i]= new Array();
                planeArray[i][0]="availableSeat.png";
                planeArray[i][1]=0;
                planeArray[i][2]=flight;
                planeArray[i][3]=price;
                planeArray[i][4]=1;
                planeArray[i][5]=departure;
                planeArray[i][6]=returnTime;
                planeArray[i][7]=seatNum(i);
            }
        
    }
    
    buildPlane();

    

    //display start page
    function startPage()
    {
        //alert(planeArray[0][3]);
        
        content = "<br><h1>Welcome to Continental Airlines!</h1> <br> <h2>Where would you like to fly?</h2> <br>";
        
        
        content += "<div><h3 class=\"flights\" onclick=\"chooseFlight('BNA to LAX')\">BNA to LAX</h3>";
        
        content += "<h3 class=\"flights\" onclick=\"chooseFlight('LAX to BNA')\">LAX to BNA</h3>";
        
        content += "<h3 class=\"flights\" onclick=\"chooseFlight('BNA to JFK')\">BNA to JFK</h3>";
        
        content += "<h3 class=\"flights\" onclick=\"chooseFlight('JFK to BNA')\">JFK to BNA</h3></div>";
        
        document.getElementById("display").innerHTML = content; 
        
    }
    
    
    //this displays the chooseflight page
    function chooseFlight(flight)
    {   
        //this is the string that contains the HTML display
        content = "<h1>You are flying "+flight+"</h1><p id=\"moreInfo\"></p><div id=\"seatSelection\"></div><div id=\"orderInfo\"></div>";
        
        document.getElementById("display").innerHTML = content;
        
        drawPlane();
        
        
    }
    
    
     //this draws the screen
        function drawPlane()
        {
            //this is the content text string
            var content="<br><h2 =>Row A - Seats 1-7 / right side of the plane</h2>";

            //this loops to display selected seats
            for(i=0;i<14;i++)
                {
                    
                   
                   content += "<img src="+planeArray[i][0]+" class=\"seatImg\" id=\""+seatNum(i)+"\" alt=\""+seatNum(i)+ "\"onClick=\"selectSeat("+i+')" width=\"50\" onmouseover=\"displayMoreInfo('+i+')\">';

                    if(i==6)
                        {
                            content += "<br><h2>Row B - Seats 8-14 / left side of the plane</h2>";
                        }

                    
                    
                }
            
            
            content += "<br><button type=\"button\" id=\"continueButton\" onclick=\"orderForm()\">Continue</button><h3 id=\"orderTotal\">Order Total: $"+orderTotal+"</h3>";
            
            
            //this displays content text string
            document.getElementById("seatSelection").innerHTML = content;
            
        }
    
    function displayMoreInfo(index)
    {
        document.getElementById("moreInfo").innerHTML="Seat Number "+seatNum(index)+" - See right panel for more info";
    }
    
    
    //this assigns a unique value to each seat and is essential to the drawPLane() function for changing one seat onclick ata time
    function seatNum(index)
    {
        switch(index)
        {
            case(0):return "A1"; break;
            case(1):return "A2"; break;
            case(2):return "A3"; break;
            case(3):return "A4"; break;
            case(4):return "A5"; break;
            case(5):return "A6"; break;
            case(6):return "A7"; break;
            case(7):return "B1"; break;
            case(8):return "B2"; break;
            case(9):return "B3"; break;
            case(10):return "B4"; break;
            case(11):return "B5"; break;
            case(12):return "B6"; break;
            case(13):return "B7"; break;
        }

    }
    
var seatsSelectedCount = 0;
    
    //this function selects the seat
        function selectSeat(seat)
        {
            
            //decide which value is in the select seat boolean value
            switch(planeArray[seat][1])
            {
                //if value is zero it means that seat is not selected, select the seat, draw selected seat, change value to 1 for selected seat
                case 0:
                    planeArray[seat][0]="selectedSeat.png";
                    planeArray[seat][1]=1;
                    orderTotal+=planeArray[seat][3];
                    drawPlane();
                    seatsSelectedCount++;
                    updateOrderDisplay()
                    break;
                    
                //if value is 1, it means that seat is selected and user wants to unselect it, display results
                case 1:
                    planeArray[seat][0]="availableSeat.png";
                    planeArray[seat][1]=0;
                    seatsSelectedCount--;
                    orderTotal-=planeArray[seat][3];
                    drawPlane();
                    updateOrderDisplay()
                    break;
                    
                //this means the seat is taken, choose another. alert user
                case 2:
                    document.getElementById("moreInfo").innerHTML = "This seat is taken. Please choose another seat.";
                    break;
                    
                //an error occured
                default:
                    alert("unknown error. try again");
                    
            }
            
        }
    
    //display selected seats
    function updateOrderDisplay()
    {
        content = "<br><h2>Your Cart:</h2>";
       
        for(i=0;i<14;i++)
            {
                if(planeArray[i][1])
                   {
                    content+="<div class=\"selectedTicket\"><h3>Seat number: " + seatNum(i) +
                            "</h3><p>Price: $" + planeArray[i][3] +
                            "</p><p>Departure: " + departure + "</p><p>Return: " + returnTime + "</p></div>";
                   }
            }
        
        document.getElementById("orderInfo").innerHTML=content;
    }
        
        
    //this displays the order form
    function orderForm()
    {
        if(seatsSelectedCount>0)
            {
                content="<br>";
        
                content+="<h2>Order Form</h2><form>First name:<br><input type=\"text\" name=\"firstname\"><br>Last name:<br><input type=\"text\" name=\"lastname\"><br><br>Credit/Debit Card Number:<br><input type=\"text\" name=\"payment\"><br><br> <div id=\"address\"Address:<br><input type=\"text\" name=\"address\"><br>City:<br><input type=\"text\" name=\"city\"><br>State:<br><input type=\"text\" name=\"state\"><br>ZIP:<br><input type=\"text\" name=\"zip\"></div><br><br>Phone:<br><input type=\"text\" name=\"lastname\"><br>Email:<br><input type=\"text\" name=\"lastname\"><br><br><br><button type=\"button\" id=\"orderButton\" onclick=\"orderSummary()\">Place Order</button></form> ";

                document.getElementById("display").innerHTML=content;
            }
        else
        {
            alert("Please select a seat before continuing with your order.")
        }
        
        
    }
    
    
    //display order summary
    function orderSummary()
    {
        finalizeOrder();
        
        content = "<h2>Your order has been placed</h2><p>Please arrive in plenty of time before your flight to allow time to find your gate and get throug security.</p>"
            
        content += "<br><button type=\"button\" id=\"newOrderButton\" onclick=\"startPage()\">Place another order</button>";
        
        document.getElementById("display").innerHTML = content;
    }
    
    
    //this makes all purchased seats unavailable for next order
    function finalizeOrder()
    {
        orderTotal = 0;
        
      for(i=0;i<14;i++)
         {
          if(planeArray[i][1]==1)
              {
              planeArray[i][1]=2;
              planeArray[i][0]="takenSeat.png";
              }
          }
    }  
       
            
    



</script>




</body>



</html>